////////////////////////////////////////////////////////////////////////////////

#include <sstream>
#include "echokey.h"


////////////////////////////////////////////////////////////////////////////////


EchoKey::EchoKey( const std::string& _string, Key::KeyType _type )
:Key(_string, _type)
{
}


////////////////////////////////////////////////////////////////////////////////


EchoKey::~EchoKey()
{
}


////////////////////////////////////////////////////////////////////////////////


std::pair<int, int> EchoKey::GetEchoKey() const
{
    // Get key hash
    std::string keyHash = GetKeyHash();

    // First offset
    int number;

    // Convert char to integer
    std::stringstream stream;
    stream << std::hex << keyHash[0];
    stream >> number;

    // Second offset is 4 samples after first
    return std::make_pair( number + 500 - (number % 2), 4 );
}


////////////////////////////////////////////////////////////////////////////////
